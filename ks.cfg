#Generated by Kickstart Configurator
#platform=x86

#System language
lang en_US.UTF-8
#Language modules to install
langsupport en_US.UTF-8 --default=en_US.UTF-8
#System keyboard
keyboard us
#System mouse
mouse
#System timezone
# XXX: must set --utc, otherwise it will wait network clock setting  for a while.
timezone --utc Asia/Harbin
# Text mode to install
text
#Root password, XXX: init is 123456789
rootpw --iscrypted $6$cf89bJ4V$G8Eb2JAtOQWrGxgU1gP4TTunrd..JXcJRULGnjFC08Z7/mzcXTeOVNiNUqg7.4DfhSbjBEBmTfC1lxMHH.f0u0
#Initial user
user --disabled
#Install OS instead of upgrade
install
url --url http://192.168.0.150/ubuntu/12.04/
# System bootloader configuration
bootloader --location=mbr
#Clear the Master Boot Record
zerombr yes
#Partition clearing information
clearpart --all --initlabel

# Partition Disk
# XXX: --ondisk and --label not support under Ubuntu12.04
part / --fstype=ext3 --size=2048 --asprimary
part pv.01 --size=1 --asprimary --grow
volgroup vg_data pv.01
logvol  /home  --vgname=vg_data  --size=1024  --name=lv_home
# XXX: if no swap partition, ubuntu will ask.
logvol  swap  --vgname=vg_data  --size=1024  --name=lv_swap

# Disable Firewall
firewall --disabled 
# Do not configure the X Window System
skipx
# Disable SELinux
selinux --disabled
# Specify the minimum level of messages that appear on tty3
logging --level=info
# Reboot after finish installtion
reboot

#Package install information
%packages
openssh-client
openssh-server
rsync
screen
ubuntu-minimal
vim


%post
e2label /dev/sda1 /
e2label /dev/vg_data/lv_home /home
swaplabel -L lvmswap /dev/vg_data/lv_swap
